## -*- mode:sh -*- #
################################################################################
## Mutt Configuration
## Date 2012-07-03
################################################################################

## Note on folders:
## These folders are assumed to exist:
## -~/.mutt   = personal stuff (contacts, account information)
## -~/.mutt.d = public stuff (cache, theme, mailcap)
## Optional:
## -~/.mutt.d/hcache = see hcache below.

##-------------------------------------------------------------------------------
## General options
##-------------------------------------------------------------------------------

## TODO: why doesn't the $EDITOR variable work for connecting to emacs daemon?
set editor="emacsclient -a \"\" -t"

## Fix the BackSpace bug that happens on some terminals.
#bind index,pager  previous-page

## Mailcap
# set mailcap_path = ~/.mutt.d/mailcap
# auto_view text/html
# alternative_order text/plain text/html

##-------------------------------------------------------------------------------
## Multiple accounts
##-------------------------------------------------------------------------------

set my_ac_personal=personal
set my_ac_work=work
set my_ac_university=university

folder-hook '$my_ac_personal' 'source ~/.mutt/$my_ac_personal'
folder-hook '$my_ac_work' 'source ~/.mutt/$my_ac_work'
folder-hook '$my_ac_university' 'source ~/.mutt/$my_ac_university'

## Switch to default account on startup
#source ~/.mutt/$my_ac_personal
#source ~/.mutt/$my_ac_work
source ~/.mutt/$my_ac_university

macro index <f2> '<sync-mailbox><enter-command>source ~/.mutt/$my_ac_personal<enter><change-folder>!<enter>'
macro index <f3> '<sync-mailbox><enter-command>source ~/.mutt/$my_ac_work<enter><change-folder>!<enter>'
macro index <f4> '<sync-mailbox><enter-command>source ~/.mutt/$my_ac_university<enter><change-folder>!<enter>'

##------------------------------------------------------------------------------
## Receiving options
##------------------------------------------------------------------------------

# Store message headers locally to speed things up.
# Gentoo wiki says that if a folder is specified, it is even faster.
# If no folder exists, the cache will be a single file.
set header_cache = ~/.mutt.d/hcache

# Allow mutt to open new imap connection automatically.
unset imap_passive

# Keep imap connection alive by polling intermittently (time in seconds).
set imap_keepalive = 300

# How often to check for new mail (time in seconds).
set mail_check = 120

# Beep on new incoming mails.
set beep_new = "yes"

##------------------------------------------------------------------------------
## Sending options
##------------------------------------------------------------------------------

set mbox_type=Maildir
set edit_headers=yes

##------------------------------------------------------------------------------
## Aliasses
##------------------------------------------------------------------------------

set alias_file= ~/.mutt/aliases
set sort_alias= alias
set reverse_alias=yes
source $alias_file

##------------------------------------------------------------------------------
## Keys
##------------------------------------------------------------------------------

# Manual fetch.
bind index "^" imap-fetch-mail

##------------------------------------------------------------------------------
## Custom headers for outgoing mail
##------------------------------------------------------------------------------

## Undo any custom headers that may have been put in by the global Muttrc
# unmy_hdr *

## Remove any global From: header
#unset use_from
## Don't append a domain to my outgoing mails
#unset use_domain

#my_hdr From: Firstname Lastname <myfirstname@mymailserver>

## Extra info.
# my_hdr X-Info: Simplicity is the ultimate sophistication.

## OS Info.
# my_hdr X-Operating-System: `uname -s`, kernel `uname -r`
# my_hdr X-Operating-System: Neidy\'s OS

## This header only appears to MS Outlook users
#my_hdr X-Message-Flag: WARNING!! Outlook sucks!

## Custom Mail-User-Agent ID.
# set user_agent = no
#my_hdr User-Agent: Every email client sucks, this one just sucks less.

##------------------------------------------------------------------------------
## Theme
##------------------------------------------------------------------------------

#source ~/.mutt.d/colors.default
#source ~/.mutt.d/colors.linux
source ~/.mutt.d/colors.nongeek
