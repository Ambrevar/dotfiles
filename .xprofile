#!/bin/sh
################################################################################
## XPROFILE
################################################################################
## This file is sourced by some DM and should not contain any desktop execution.

## X config (for URxvt, etc.)
[ -f "${HOME}/.Xresources" ] && xrdb -merge "${HOME}/.Xresources"

## Numlock
numlockx on

## Keymap. Only useful on multi-user environment where users have different
## keymaps. The map file can be generated from current layout with
##  xmodmap -pke > ~/.xmodmap
if [ "$(setxkbmap -v 7 | awk '/^layout/ {print $2}')" != "usex" ]; then
    xmodmap ~/.xmodmap_usex
fi

if [ "$OSTYPE" = "linux-gnu" ] ; then
    ## Set sound volume.
    [ -n "$(amixer 2>/dev/null | grep PCM)" ] && amixer set PCM 80%

    ## External device auto-mounting.
    command -v udiskie >/dev/null && udiskie &
fi

## This env variable is used by some programs (like ranger and awesome) to get
## terminal executable name.
export TERMCMD="urxvt"

## Hook. Should be sourced last
[ -f ~/.xprofile_hook ] && . ~/.xprofile_hook
