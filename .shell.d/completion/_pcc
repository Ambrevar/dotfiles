#compdef pcc

## Pacman custom completion

## Let's check if pacman completion is already loaded. If not, we parse the
## pacman completion file.
if [ $(type _pacman_action_none | grep -c "not found") -gt 0 ]; then
	source "/usr/share/zsh/site-functions/_pacman"
fi

_pcc () {
	case $words[1] in
	pacsize)
		case $words[2] in
		-*)
			return 1 ;;
		*)
			_pacman_action_sync
			return ;;
		esac
		return ;;
	*)
		case $words[2] in
		-*)
			return 1 ;;
		*)
			_pacman_action_query
			return ;;
		esac
		return ;;
	esac
}

_pcc "$@"

## Local Variables:
## mode: sh
## End:
